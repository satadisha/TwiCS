#!/usr/bin/python3

import sys

import matplotlib
import matplotlib.pyplot as plt
from matplotlib.ticker import MaxNLocator
from matplotlib import cm
from mpl_toolkits.mplot3d import Axes3D

import numpy
from numpy.random import randn
from scipy import array, newaxis


# ======
## data:
batch_size_recorder=[]
Z_scores=[-1.0,-0.9,-0.8,-0.7,-0.6,-0.5,-0.4,-0.3,-0.2,-0.1,0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0]
for batch_size_ratio in range(1,50,2):
    batch_size_ratio_float= batch_size_ratio/100.0
    # print(batch_size_ratio_float)
    batch_size=38000*batch_size_ratio_float
    batch_size_recorder.append(batch_size)

# print(batch_size_recorder)
# whole_level = [[[1.0027697086334229, 2.003866195678711, 2.8887386322021484, 3.7783186435699463, 4.816943645477295, 5.933135747909546, 6.495479106903076], [0.8466090122894857, 0.81194409148665825, 0.78521939953810627, 0.7496768634209392, 0.7398642095053346, 0.74955879993582541, 0.75207517619420516], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.074526309967041, 2.1515567302703857, 3.10200572013855, 4.0769922733306885, 5.192828416824341, 6.368303298950195, 6.9770896434783936], [0.8466090122894857, 0.81154822335025367, 0.7849269418097925, 0.7494619027120103, 0.73967823221554563, 0.7493987493987494, 0.75191735795899206], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.1292695999145508, 2.219878911972046, 3.129110336303711, 4.041774749755859, 5.10080885887146, 6.245432376861572, 6.809023857116699], [0.8481818181818181, 0.80833596463530155, 0.78418367346938778, 0.75521498510004248, 0.74428353658536572, 0.75367356612419023, 0.75593952483801297], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.0754055976867676, 2.122593402862549, 3.0631930828094482, 3.989560604095459, 5.092460870742798, 6.263020277023315, 6.851354122161865], [0.8481818181818181, 0.80833596463530155, 0.78263090676883773, 0.75309168443496799, 0.74409675561528121, 0.75397329942784497, 0.75624515128006209], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.0421481132507324, 2.0625460147857666, 2.9812612533569336, 3.9009625911712646, 4.970519781112671, 6.141329526901245, 6.745389223098755], [0.8466090122894857, 0.81194409148665825, 0.78521939953810627, 0.7496768634209392, 0.7398642095053346, 0.74955879993582541, 0.75207517619420516], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.038703203201294, 2.0687084197998047, 2.9891698360443115, 3.9164798259735107, 4.975968599319458, 6.097721815109253, 6.681190252304077], [0.8466090122894857, 0.80987029421069279, 0.78403275332650979, 0.75437847073900044, 0.74538461538461542, 0.75505331847843393, 0.75730267246737115], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.0585904121398926, 2.0683350563049316, 3.0057756900787354, 3.9579598903656006, 5.047058343887329, 6.228332996368408, 6.820012807846069], [0.8466090122894857, 0.80987029421069279, 0.78383218214377082, 0.74817361409540173, 0.73960951092209537, 0.75031969309462909, 0.7528089887640449], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.0631184577941895, 2.1127262115478516, 3.038585901260376, 4.010108947753906, 5.101815700531006, 6.229063272476196, 6.803280830383301], [0.8466090122894857, 0.80987029421069279, 0.78403275332650979, 0.75437847073900044, 0.74538461538461542, 0.75505331847843393, 0.75730267246737115], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3444764614105225, 2.69736647605896, 3.9337799549102783, 5.209398031234741, 6.609330415725708, 8.051380634307861, 8.970324754714966], [0.852720450281426, 0.81021897810218968, 0.76923076923076938, 0.73909049150206696, 0.72207141365629579, 0.73023578363384178, 0.73271344040574804], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3361752033233643, 2.6905388832092285, 3.9599483013153076, 5.203052282333374, 6.61882209777832, 8.105420112609863, 9.048518657684326], [0.838150289017341, 0.79303278688524592, 0.74152180108292964, 0.70893371757925072, 0.69435942282466112, 0.70575461454940269, 0.70851701639922415], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3533790111541748, 2.7189269065856934, 3.9715399742126465, 5.2088141441345215, 6.614216327667236, 8.0615553855896, 8.98595404624939], [0.8141858141858141, 0.77210285311729476, 0.71365378944264235, 0.67367893814174806, 0.66074681238615662, 0.67606163096580241, 0.679480139117701], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.4074766635894775, 2.724287509918213, 3.9590046405792236, 5.171548366546631, 6.507524251937866, 7.914106607437134, 8.78294587135315], [0.8120300751879699, 0.76560827684623611, 0.70185962807438507, 0.660377358490566, 0.64511627906976743, 0.66181539639984666, 0.66542334949645654], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3119752407073975, 2.62735652923584, 3.8286051750183105, 4.985539436340332, 6.276355743408203, 7.722655773162842, 8.580017805099487], [0.7735655737704917, 0.72880116959064334, 0.66993263931414571, 0.62578288100208768, 0.6089238845144358, 0.62785700332096106, 0.63193916349809887], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3227248191833496, 2.5950677394866943, 3.7654738426208496, 4.972234487533569, 6.321629524230957, 7.733761310577393, 8.586863994598389], [0.7671657201858544, 0.72352941176470587, 0.66150030998140119, 0.61363033678069467, 0.59490909090909094, 0.61535409640944261, 0.6200772200772201], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3326520919799805, 2.6794283390045166, 3.90873384475708, 5.0757904052734375, 6.522211074829102, 8.024282455444336, 8.912470817565918], [0.6625352112676057, 0.68417047184170476, 0.62243589743589745, 0.57510259917920659, 0.55924170616113744, 0.5825838103025347, 0.58802466679928389], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3465757369995117, 2.660688877105713, 3.8569869995117188, 5.061816453933716, 6.398619174957275, 7.809080123901367, 8.67462158203125], [0.6491728465487735, 0.62168674698795179, 0.56788467985249758, 0.5276038702333522, 0.51183355006501952, 0.53976311336717431, 0.54534238124614431], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.325047254562378, 2.6310198307037354, 3.8670780658721924, 5.0806193351745605, 6.436495304107666, 7.915563106536865, 8.82159948348999], [0.6343713956170703, 0.61108862808579523, 0.55566835871404396, 0.51631533352584469, 0.50026385224274406, 0.53070832441686289, 0.53610822060353802], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3432304859161377, 2.644713878631592, 3.81579327583313, 4.990963935852051, 6.299952268600464, 7.7253382205963135, 8.630343437194824], [0.6343713956170703, 0.60204498977505116, 0.54756222297988411, 0.50785340314136129, 0.49175970228601812, 0.51455888744024336, 0.52049007182087037], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.4008026123046875, 2.856863021850586, 4.171647310256958, 5.478260278701782, 6.914169549942017, 8.451325416564941, 9.453888654708862], [0.6322657176749703, 0.59741343345848974, 0.54728091444405957, 0.50441956393635834, 0.489247311827957, 0.51250548486178149, 0.51676275891522527], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3942475318908691, 2.780060052871704, 4.043108701705933, 5.288461685180664, 6.653939247131348, 8.117255687713623, 9.018557071685791], [0.6322657176749703, 0.59042778483693348, 0.53469531525184921, 0.49536344600658083, 0.47824897400820798, 0.49595323741007197, 0.50207559536814506], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.3990931510925293, 2.8154714107513428, 4.1383585929870605, 5.442542314529419, 6.877676010131836, 8.374332904815674, 9.343263864517212], [0.6322657176749703, 0.58933107535986451, 0.53276955602537002, 0.49612403100775199, 0.47816593886462877, 0.4958492259367287, 0.49803235679930036], [776, 1615, 2356, 3053, 3828, 4598, 4695]]]
whole_level=[[[0.9757082462310791, 1.903869390487671, 2.7572031021118164, 3.6169357299804688, 4.672213315963745, 5.769694805145264, 6.330048084259033], [0.8456986800182066, 0.80962939499524877, 0.78289810547875072, 0.74946282767511807, 0.74318840579710144, 0.75543478260869557, 0.75803933812051205], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[0.9290118217468262, 1.911320447921753, 2.752650022506714, 3.5968375205993652, 4.586856365203857, 5.675502777099609, 6.218318462371826], [0.8456986800182066, 0.81130876747141034, 0.78399179066187796, 0.75032285837279378, 0.74072635463196745, 0.75244979919678712, 0.75513725490196071], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[0.9550747871398926, 1.8864426612854004, 2.7331724166870117, 3.578814744949341, 4.577283143997192, 5.599384069442749, 6.136080503463745], [0.8456986800182066, 0.80962939499524877, 0.78309859154929584, 0.75565997436992738, 0.74860550105789581, 0.75987261146496821, 0.76224537396983372], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[0.9453098773956299, 1.8772811889648438, 2.721257448196411, 3.562302350997925, 4.60444974899292, 5.684765338897705, 6.229792833328247], [0.8456986800182066, 0.80962939499524877, 0.78289810547875072, 0.74946282767511807, 0.74270249371737873, 0.75503677646306366, 0.75765146783260451], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.0167224407196045, 1.966294527053833, 2.81067156791687, 3.718466281890869, 4.691136360168457, 5.731271982192993, 6.281171798706055], [0.8472727272727273, 0.80809358204236481, 0.78189721298900539, 0.7545318831307315, 0.74745534856923379, 0.75878518047384313, 0.76118012422360248], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[0.9305689334869385, 1.8734924793243408, 2.7039172649383545, 3.542202949523926, 4.582789659500122, 5.652013063430786, 6.21892523765564], [0.8456986800182066, 0.81130876747141034, 0.78399179066187796, 0.75032285837279378, 0.74072635463196745, 0.75244979919678712, 0.75513725490196071], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[0.9559402465820312, 1.8983476161956787, 2.754380702972412, 3.622067928314209, 4.590448617935181, 5.617285251617432, 6.158402681350708], [0.8472727272727273, 0.80809358204236481, 0.78345250255362608, 0.75585854282062215, 0.74966481516950778, 0.76059019514516901, 0.76293771304617297], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[0.926948070526123, 1.8710875511169434, 2.7265350818634033, 3.5957272052764893, 4.5884716510772705, 5.663869380950928, 6.218008756637573], [0.8426349496797804, 0.80969078737647437, 0.78406169665809777, 0.7506471095772218, 0.74100019459038724, 0.75269509251810141, 0.75538098978790258], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.2420923709869385, 2.672863483428955, 3.8277745246887207, 4.9797539710998535, 6.274629354476929, 7.629864692687988, 8.489021301269531], [0.8496240601503758, 0.80998336106489177, 0.76656585097607921, 0.73153738968880633, 0.72290172922817386, 0.73383564044156302, 0.73765168347291066], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.286076545715332, 2.5516602993011475, 3.700207471847534, 4.893824577331543, 6.177971601486206, 7.52921462059021, 8.359529972076416], [0.8387096774193549, 0.79521367521367514, 0.74150242787774934, 0.70240116420082466, 0.6875967278355074, 0.70362239297475304, 0.70791726105563491], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.2284715175628662, 2.472010612487793, 3.619716167449951, 4.763612508773804, 6.065448522567749, 7.412548303604126, 8.249133586883545], [0.8147778332501248, 0.77269528501055595, 0.71420153211549797, 0.67384230287859814, 0.6604418127989069, 0.67769216312723179, 0.68071847507331373], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.234541416168213, 2.4711616039276123, 3.626708507537842, 4.740867853164673, 6.0070412158966064, 7.3196752071380615, 8.123164653778076], [0.8126252505010021, 0.76621525302922311, 0.70242732993706924, 0.66089171974522287, 0.64607524384579651, 0.66206632164078982, 0.66616878267363711], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.192718267440796, 2.379110097885132, 3.4673426151275635, 4.562549352645874, 5.786475419998169, 7.0780158042907715, 7.855271577835083], [0.7731694828469022, 0.73642288196958727, 0.67679222357229651, 0.64043209876543206, 0.62269005847953218, 0.64114462490332569, 0.64607270672443018], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.2474868297576904, 2.476292371749878, 3.56439471244812, 4.660854339599609, 5.897512674331665, 7.2054972648620605, 8.048319816589355], [0.7667698658410733, 0.72346676459786996, 0.65754276827371694, 0.61379310344827587, 0.5932409433503526, 0.61701277955271572, 0.62220493875170135], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.2102899551391602, 2.4603304862976074, 3.5926754474639893, 4.706119537353516, 5.93932580947876, 7.243393659591675, 8.046428203582764], [0.6729910714285714, 0.69192876089427813, 0.63006702840727735, 0.59113034072471615, 0.5736166007905138, 0.59720817317418562, 0.60259944860181169], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.2390241622924805, 2.469237804412842, 3.6622889041900635, 4.754720449447632, 5.9737725257873535, 7.253186464309692, 8.043819665908813], [0.6488027366020525, 0.62289831865492395, 0.61468780329990302, 0.57845817386550025, 0.55917753259779346, 0.58304249640730854, 0.5884938074310827], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.2109856605529785, 2.4021706581115723, 3.4891693592071533, 4.601682901382446, 5.831493139266968, 7.12603235244751, 7.923996448516846], [0.6488027366020525, 0.61600646725949881, 0.55975692099932473, 0.51903114186851207, 0.50355543850408213, 0.5226586102719033, 0.52883204026001263], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.193645715713501, 2.3814215660095215, 3.4570486545562744, 4.530511379241943, 5.739005088806152, 7.004649877548218, 7.781175851821899], [0.6332179930795848, 0.60155292194523913, 0.54718909710391817, 0.5075581395348836, 0.4918990703851262, 0.50677151594582792, 0.51274426508071369], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.225499153137207, 2.4280624389648438, 3.504976987838745, 4.572086811065674, 5.76697564125061, 7.0308308601379395, 7.7945027351379395], [0.631454005934718, 0.59966638865721433, 0.54305555555555562, 0.50339734121122592, 0.485799296727076, 0.49921927280838718, 0.50520381613182996], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.18621826171875, 2.383815288543701, 3.4584147930145264, 4.5316386222839355, 5.731475353240967, 6.996419906616211, 7.761460781097412], [0.631454005934718, 0.59162082099026658, 0.53572685674058429, 0.4962630792227205, 0.47908121410992616, 0.48938093086308182, 0.49339788732394374], [776, 1615, 2356, 3053, 3828, 4598, 4695]], [[1.1768162250518799, 2.383530378341675, 3.49725341796875, 4.603296518325806, 5.8255181312561035, 7.113802433013916, 7.9770283699035645], [0.631454005934718, 0.58898305084745761, 0.54188573431475651, 0.51282051282051289, 0.49365379422090194, 0.50134168157423975, 0.50435919790758499], [776, 1615, 2356, 3053, 3828, 4598, 4695]]]

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

flatten_whole=[]
flatten_x=[]
flatten_y=[]
flatten_z=[]
for idx,level in enumerate(whole_level):

    # print(idx)
    f1=level[1]
    tweets_been_processed_list=level[2]

    Z_scores[idx] = [Z_scores[idx]] * len(tweets_been_processed_list)

    # print(batch_size)
    Xs = Z_scores[idx]
    print(Xs)
    flatten_x.extend(Xs)

    Ys = f1
    flatten_y.extend(Ys)
    # print(Ys)

    Zs = tweets_been_processed_list
    flatten_z.extend(Zs)
    # print(Zs)
    ax.plot(Zs, Ys, Xs, label='parametric curve')


# ======pr
## plot:

# print(flatten_z)

surf = ax.plot_trisurf(flatten_z, flatten_y, flatten_x, cmap=cm.jet, linewidth=0)
# ax.plot(flatten_z, flatten_y, flatten_x, label='parametric curve')

# fig.colorbar(surf)

ax.set_xlabel('# of Seen Tweets')
ax.set_ylabel('F1')
ax.set_zlabel('Z Scores')
ax.xaxis.set_major_locator(MaxNLocator(5))
ax.yaxis.set_major_locator(MaxNLocator(6))
ax.zaxis.set_major_locator(MaxNLocator(5))

fig.tight_layout()

plt.show() # or:
# fig.savefig('3D.png')